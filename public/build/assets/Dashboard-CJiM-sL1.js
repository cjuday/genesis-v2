import{q as w,R as e,a as P,r as c,y as k}from"./app-BOCzRdTM.js";import{S as M}from"./SEO-CFja7uMn.js";import{L as T}from"./logo-BmcBXPtN.js";function U(){const{user:n}=w().props;return e.createElement(e.Fragment,null,e.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light fixed-top",id:"topbar"},e.createElement("div",{className:"container-fluid",id:"topbar-container sidebar-toggle"},e.createElement("img",{src:T,alt:"logo",className:"dark-logo",height:"50px"}),e.createElement("ul",{className:"navbar-nav ms-auto"},e.createElement("li",{className:"nav-item active"},"Welcome, ",n.name," | ",e.createElement(P,{href:"/logout",as:"button",method:"post",className:"logout"},e.createElement("i",{className:"fa fa-right-from-bracket logout-icon"})))))))}function _(){return e.createElement(e.Fragment,null,e.createElement("footer",{className:"footer mt-auto fixed-bottom"},e.createElement("div",{className:"container"},e.createElement("div",{className:"text-center"},"© Genesis Fashion & Desing - 2024"))))}const D=({isOpen:n,closeModal:s})=>{var x;const[r,m]=c.useState(""),[o,d]=c.useState(""),[u,p]=c.useState([]),[E,f]=c.useState([]),[b,g]=c.useState("");if(!n)return null;const h=[{id:1,label:"Men"},{id:2,label:"Women"},{id:3,label:"Kids"}],N={1:[{id:1,label:"T-Shirts"},{id:2,label:"Polo"},{id:3,label:"Bottom"},{id:4,label:"Shirts"},{id:5,label:"Sweat Shirts"},{id:6,label:"Trousers"},{id:7,label:"Sweaters"},{id:8,label:"Jacket"}],2:[{id:1,label:"Tops"},{id:2,label:"Bottoms"}],3:[{id:1,label:"T-Shirts & Tops"},{id:2,label:"Sweaters & Sweat Shirt"},{id:3,label:"Trousers"},{id:4,label:"Jeans"},{id:5,label:"Shorts"}]},v=a=>{m(a.target.value),d("")},t=a=>{d(a.target.value)},l=a=>{const i=Array.from(a.target.files);p(i);const y=i.map(F=>URL.createObjectURL(F));f(y)},S=()=>{m(""),d(""),p([]),f([]),g(""),s()},C=()=>{if(u.length>0&&r&&o){const a=new FormData;u.forEach((i,y)=>{a.append(`files[${y}]`,i)}),a.append("category",r),a.append("subCategory",o),k.post("/product-upload",a,{onSuccess:()=>{s()},onError:()=>{g("Error uploading files.")}})}else g("Please fill up all the fields and select files.")};return e.createElement(e.Fragment,null,e.createElement("div",{className:"modal-backdrop show"}),e.createElement("div",{className:"modal show",tabIndex:"-1",role:"dialog",style:{display:"block"}},e.createElement("div",{className:"modal-dialog",role:"document"},e.createElement("div",{className:"modal-content"},e.createElement("div",{className:"modal-header"},e.createElement("h5",{className:"modal-title"},"Upload Product"),e.createElement("button",{type:"button",className:"close",onClick:S},e.createElement("span",{className:"fs-3"},"×"))),e.createElement("div",{className:"modal-body"},b&&e.createElement("div",{className:"alert alert-danger"},b),e.createElement("p",{className:"fs-5"},e.createElement("i",{className:"text-danger"},"*"),"Category "),e.createElement("select",{name:"category",id:"category",value:r,onChange:v,className:"form-select",required:!0},e.createElement("option",{value:""},"Select a category"),h.map(a=>e.createElement("option",{key:a.id,value:a.id},a.label))),e.createElement("p",{className:"fs-5 mt-4"},e.createElement("i",{className:"text-danger"},"*"),"Sub-Category "),e.createElement("select",{name:"subCategory",id:"subCategory",value:o,onChange:t,disabled:!r,className:"form-select",required:!0},e.createElement("option",{value:""},"Select a subcategory"),r&&((x=N[r])==null?void 0:x.map(a=>e.createElement("option",{key:a.id,value:a.id},a.label)))),e.createElement("p",{className:"fs-5 mt-4"},e.createElement("i",{className:"text-danger"},"*"),"Image (Only Images and Max File Size: 5 MB)"),e.createElement("input",{type:"file",id:"fileUpload",accept:"image/*",multiple:!0,onChange:l,required:!0}),E.length>0&&e.createElement("div",null,e.createElement("h4",null,"File Previews:"),E.map((a,i)=>e.createElement("img",{key:i,src:a,alt:"File Preview",style:{maxWidth:"150px",maxHeight:"150px",marginRight:"10px"}})))),e.createElement("div",{className:"modal-footer"},e.createElement("button",{type:"button","aria-label":"cancel",className:"btn btn-secondary",onClick:S},"Cancel"),e.createElement("button",{type:"button","aria-label":"upload",className:"btn btn-success",onClick:C},"Upload"))))))},O=({isOpen:n,closeModal:s,productId:r})=>{if(!n)return null;const m=()=>{k.delete(`/products/${r}`,{onSuccess:()=>s()})};return e.createElement(e.Fragment,null,e.createElement("div",{className:"modal-backdrop show"}),e.createElement("div",{className:"modal show",tabIndex:"-1",role:"dialog",style:{display:"block"}},e.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},e.createElement("div",{className:"modal-content"},e.createElement("div",{className:"modal-header"},e.createElement("h5",{className:"modal-title"},"Confirm Delete"),e.createElement("button",{type:"button","aria-label":"close",className:"close",onClick:s},e.createElement("span",{className:"fs-3"},"×"))),e.createElement("div",{className:"modal-body"},e.createElement("p",{className:"fs-3"},"Are you sure you want to delete the product # ",r,"?")),e.createElement("div",{className:"modal-footer"},e.createElement("button",{type:"button","aria-label":"cancel",className:"btn btn-secondary",onClick:s},"Cancel"),e.createElement("button",{type:"button","aria-label":"delete",className:"btn btn-danger",onClick:m},"Delete"))))))},R=({products:n,appUrl:s})=>{const{flash:r}=w().props,[m,o]=c.useState(!1),[d,u]=c.useState(!1),[p,E]=c.useState(null),f=t=>{E(t),o(!0)},b=()=>{o(!1),E(null)},g=t=>{u(!0)},h=()=>{o(!1),u(!1)},N=t=>{if(t===1)return"Men";if(t===2)return"Women";if(t==3)return"Kids"},v=(t,l)=>{if(t===1){if(l===1)return"T-Shirts";if(l===2)return"Polo";if(l===3)return"Bottom";if(l===4)return"Shirts";if(l===5)return"Sweat Shirts";if(l===6)return"Trousers";if(l===7)return"Sweaters";if(l===8)return"Jacket"}else if(t===2){if(l===1)return"Tops";if(l===2)return"Bottoms"}else if(t===3){if(l===1)return"T-Shirts & Tops";if(l===2)return"Sweaters & Sweat Shirt";if(l===3)return"Trousers";if(l===4)return"Jeans";if(l===5)return"Shorts"}};return e.createElement(e.Fragment,null,e.createElement(M,{title:"Genesis - Admin Dashboard"}),e.createElement(U,null),e.createElement("div",{className:"content mb-3"},e.createElement("div",{className:"container"},e.createElement("div",{className:"card"},e.createElement("div",{className:"card-header"},e.createElement("div",{className:"row"},e.createElement("div",{className:"col-6"},e.createElement("h2",null,"Products")),e.createElement("div",{className:"col-6 text-end"},e.createElement("button",{"aria-label":"uploadProduct",className:"btn btn-success",onClick:g},e.createElement("i",{className:"fa fa-upload"})," Upload Product")))),e.createElement("div",{className:"card-body"},r.success&&e.createElement("div",{className:"alert alert-success"},r.success),r.errors&&e.createElement("div",{className:"alert alert-danger"},r.errors.file[0]),e.createElement("div",{className:"row"},e.createElement("div",{className:"col-12"},e.createElement("table",{className:"table table-striped table-bordered text-center"},e.createElement("thead",null,e.createElement("th",null,"Product ID"),e.createElement("th",null,"Image"),e.createElement("th",null,"Category"),e.createElement("th",null,"Sub-Category"),e.createElement("th",null,"Action")),e.createElement("tbody",null,n.data.map(t=>e.createElement("tr",{key:t.id},e.createElement("td",null,t.id),e.createElement("td",null,e.createElement("img",{src:s+t.image_url,height:"120px"})),e.createElement("td",null,N(t.group_id)),e.createElement("td",null,v(t.group_id,t.subgroup_id)),e.createElement("td",null," ",e.createElement("button",{"aria-label":"deleteImg",onClick:()=>f(t.id)},e.createElement("i",{className:"fa fa-trash text-danger"})))))))))),e.createElement("div",{className:"card-footer text-center"},n.links.length>3?e.createElement("div",{className:"row"},e.createElement("div",{className:"col"},e.createElement("ul",{className:"pagination center"},n.prev_page_url&&e.createElement("li",null,e.createElement("a",{href:n.prev_page_url},e.createElement("i",{className:"fa fa-angle-left"}))),n.links.filter(t=>t.label!=="&laquo; Previous"&&t.label!=="Next &raquo;").map((t,l)=>e.createElement("li",null,e.createElement("a",{key:l,className:t.active?"active":"",href:t.url},t.label))),n.next_page_url&&e.createElement("li",null,e.createElement("a",{href:n.next_page_url},e.createElement("i",{className:"fa fa-angle-right"})))))):"")))),e.createElement(D,{isOpen:d,closeModal:h}),e.createElement(O,{isOpen:m,closeModal:b,productId:p}),e.createElement(_,null))};export{R as default};
